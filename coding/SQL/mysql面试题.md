**1.说一下MySQL数据库存储的原理**

    答：过程是一个可编程的函数，它在数据库中创建并保存。它可以有SQL语句和一些特殊的控制结构组成。当希望在不同的应用程序或平台上执行相同的函数，或者封装特定功能时，存储过程是过程通常有一下优点:
    
        1)存储过程能实现较快的执行速度
    
        2）存储过程允许标准组件是编程
    
        3）存储过程可以用流控制语句编写，有很强的灵活性，可以完成复杂的判断和复杂的运算。
    
        4）存储过程可被作为一种安全机制来充分利用
    
        5）存储过程能过减少网络流量

**2.redis和MySQL的区别：**

    redis是内存数据库，数据保存在内存中，速度快
    
    MySQL是关系型数据库，持久化存储，存放在磁盘里面，功能强大。检索的话，会涉及到一定的IO，数据访问也就慢。

**3.MySQL锁有几种：死锁是怎么产生的**

    1）表级锁：开销小，加锁快；不会出现死锁；锁定粒度大，发生锁冲突的概率最高，并发度最低。
    
    2）行级锁：开销大，加锁慢；会出现死锁；锁定粒度最小，发生锁冲突的概率最低，并发度最高。
    
    4）页面锁：开销和枷锁时间界于表锁和行锁之间；会出现死锁；锁定粒度界于表锁和行锁之间，并发度一般

三种锁各有各的特点，若仅从锁的角度来说，表级锁更适合于以查询为主，只有少量按索引条件更新数据的应用，如WEB应用：行级锁更适合于有大量按索引条件并发更新少量不同数据，同时又有并发查询的应用，如一些在线事务处理（OLTP）系统。

**4.MySQL的优化**

1.优化索引、SQL语句、分析慢查询；

2.设计表的时候严格根据数据库的设计范式来设计数据库；

3.使用缓存，把经常访问到数据而且不需要经常变化的数据放在缓存中，能节约IO；

4.优化硬件，采用SSD，使用磁盘队列技术（RAIDO，RAIDI，RDID5）等；

5.采用MySQL内部自带的表分区技术，把数据分层不同的文件能够提供磁盘的读取效率；

6.垂直分表：把一些不经常读的数据放在一张表里，节约磁盘I/O；

7.主从分离读写：采用主从复制把数据库的读写操作和写入操作分离开来；

8.分库分表分机器（数据量特别大），主要的原理就是数据路由；

9.选择合适的表引擎，参数上的优化；

10.进行架构级别的缓存，静态化和分布式；

11.不采用全文索引；

12.采用更快的存储方式，例如noSQL存储经常访问的数



